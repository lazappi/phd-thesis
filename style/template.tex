% *============================================================================*
%                  UNIVERSITY OF MELBOURNE THESIS TEMPLATE
% *============================================================================*

% +----------------------------------------------------------------------------+
%  This is a Pandoc/LaTeX template for a University of Melbourne thesis designed
%  to be used as part of a bookdown project
%  (https://bookdown.org/yihui/bookdown/).
% +----------------------------------------------------------------------------+

% +----------------------------------------------------------------------------+
%  Changes:
%
%  2018-10-10 (Luke Zappia)
%    * Create first draft template
% +----------------------------------------------------------------------------+

% *============================================================================*
%  PREAMBLE
%
%  Set up the document, load packages, set parameters etc.
% *============================================================================*

% +-----Document class---------------------------------------------------------+
%  Set the class associated with the document, options in square brackets are
%  passed to the class
% +----------------------------------------------------------------------------+

\documentclass[11pt,a4paper,titlepage,twoside,openright]{style/unimelbthesis}

% +-----Packages---------------------------------------------------------------+
%  External packages used in the document
% +----------------------------------------------------------------------------+

\usepackage{amsmath}   % American Mathematics Society standards
\usepackage{amsxtra}   % Additional math symbols
\usepackage{amssymb}   % Additional math symbols
\usepackage{amsthm}    % Additional math symbols
\usepackage{latexsym}  % Additional math symbols
\usepackage{booktabs}  % Table formatting
\usepackage{longtable} % Table formatting
\usepackage{setspace}  % Line spacing
\usepackage{chemarr}   % Improved reaction arrows for chemists
%\usepackage{palatino}  % Use the palatino font family
%\usepackage{mathpazo}  % Use the palatino font family
%\usepackage{utopia}    % Use the Utopia font
%\usepackage{charter}   % Use the Bitstream Charter font
\usepackage{libertine}  % Use the Libertine font family
\usepackage{graphicx}  % Extended graphics package
\usepackage{parskip}   % Space between paragraphs
\usepackage{microtype} % Microtypography for better spacing, kerning, etc...
\usepackage{caption}   % Caption formatting
\usepackage{xcolor}    % Coloured text
\usepackage{csquotes}  % Fancy quotes

\usepackage[utf8]{inputenc}       % UTF-8 input encoding
\usepackage[T1]{fontenc}          % Use 8-bit fonts
\usepackage[hidelinks]{hyperref}  % Hyperlinks
\usepackage[explicit]{titlesec}   % Fancy section headings
\usepackage[section]{placeins}    % Restrict floats to sections

% +-----Package options--------------------------------------------------------+

% Chapter headings
\titleformat{\chapter}[display]
  {
    \normalfont
    \Large
    \filleft
    \sffamily
  }
  {
    \vskip150pt
    \fontsize{150}{0}
    \textbf{
      \textcolor{black!20}{
        ~\thechapter\vskip0pt
      }
    }
  }
  {0pt}
  {
    \fontsize{40}{0}
    \textbf{
      \textcolor{black!20}{
        #1
      }
    }
    \vspace{40pt}
  }

% Unnumbered chapter headings
\titleformat{name=\chapter,numberless}[display]
  {\normalfont\LARGE\bfseries}
  {}
  {0pt}
  {#1}

% No numbers on chapter pages
%\assignpagestyle{\chapter}{empty}

% Figure captions
\captionsetup{labelfont=bf, font=small, margin=10pt}

% +-----Parameters-------------------------------------------------------------+
%  Set parameters for the document. To convert from YAML to LaTeX we need to add
%  the dollar signs.
% +----------------------------------------------------------------------------+

\title{$title$}
\author{$author$}
\orcid{$orcid$}
\degree{$degree$}
\submissionmonth{$submissionmonth$}
\submissionyear{$submissionyear$}
\department{$department$}
\university{$university$}
\statement{$statement$}

% +-----Syntax highlighting----------------------------------------------------+
%  If code chunks are included in the document this allows Pandoc to insert the
%  code highlighting macros.
% +----------------------------------------------------------------------------+

$if(highlighting-macros)$
  $highlighting-macros$
$endif$

% +-----TeXCount---------------------------------------------------------------+
%  Improve word counting using TeXCount.
% +----------------------------------------------------------------------------+

% Environment aliases to trick Pandoc
\let\Begin\begin
\let\End\end

% Environment for counting text as other
%TC:envir tcother [] other
\newenvironment*{tcother}{}{}

% Count as other
%TC:group abstract 1 3
%TC:group declaration 1 3
%TC:group preface 1 3
%TC:group acknowledgements 1 3
%TC:group copyrightlist 1 3
%TC:group longtable 1 3
%TC:group appendix 1 3
%TC:group quote 1 3

% *============================================================================*
%  FRONT MATTER
%
%  Front section of the document, everything before the main text.
% *============================================================================*

\begin{document}

\urlstyle{same}

\begin{frontmatter}

\frontmatterheadings

% +-----Title------------------------------------------------------------------+

$if(title)$
  \maketitle
$endif$

% +-----Abstract---------------------------------------------------------------+

$if(abstract)$
  \begin{abstract}
    $abstract$
  \end{abstract}
$endif$

% +-----Declaration------------------------------------------------------------+

$if(declaration)$
  \begin{declaration}
    $declaration$
  \end{declaration}
$endif$

% +-----Preface----------------------------------------------------------------+

$if(preface)$
  \begin{preface}
    $preface$
  \end{preface}
$endif$

% +-----Acknowledgements-------------------------------------------------------+

$if(acknowledgements)$
  \begin{acknowledgements}
    $acknowledgements$
  \end{acknowledgements}
$endif$

% +-----Table of contents------------------------------------------------------+

$if(toc)$
  \hypersetup{linkcolor=$if(toccolor)$$toccolor$$else$black$endif$}
  \setcounter{tocdepth}{$toc-depth$}
  \tableofcontents
$endif$

% +-----List of tables---------------------------------------------------------+

$if(lot)$
  \listoftables
$endif$

% +-----List of figures--------------------------------------------------------+

$if(lof)$
  \listoffigures
$endif$

% +-----List of copyright------------------------------------------------------+

$if(copyrightlist)$
  \begin{copyrightlist}
    $copyrightlist$
  \end{copyrightlist}
$endif$

\end{frontmatter}

% *============================================================================*
%  MAIN MATTER
%
%  Main part of the document. Includes all chapters and appendices.
% *============================================================================*


\begin{mainmatter}

\mainmatterheadings

$body$

\End{tcother}
\end{mainmatter}

\end{document}
